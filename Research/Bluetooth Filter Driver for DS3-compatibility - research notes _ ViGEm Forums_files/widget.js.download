(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery","./version"],e)}else{e(jQuery)}})(function(e){"use strict";var t=0;var i=Array.prototype.hasOwnProperty;var s=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,o;for(o=0;(n=i[o])!=null;o++){s=e._data(n,"events");if(s&&s.remove){e(n).triggerHandler("remove")}}t(i)}}(e.cleanData);e.widget=function(t,i,s){var n,o,r;var a={};var l=t.split(".")[0];t=t.split(".")[1];var u=l+"-"+t;if(!s){s=i;i=e.Widget}if(Array.isArray(s)){s=e.extend.apply(null,[{}].concat(s))}e.expr.pseudos[u.toLowerCase()]=function(t){return!!e.data(t,u)};e[l]=e[l]||{};n=e[l][t];o=e[l][t]=function(e,t){if(!this||!this._createWidget){return new o(e,t)}if(arguments.length){this._createWidget(e,t)}};e.extend(o,n,{version:s.version,_proto:e.extend({},s),_childConstructors:[]});r=new i;r.options=e.widget.extend({},r.options);e.each(s,function(e,t){if(typeof t!=="function"){a[e]=t;return}a[e]=function(){function s(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e=this._super;var i=this._superApply;var o;this._super=s;this._superApply=n;o=t.apply(this,arguments);this._super=e;this._superApply=i;return o}}()});o.prototype=e.widget.extend(r,{widgetEventPrefix:n?r.widgetEventPrefix||t:t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:u});if(n){e.each(n._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)});delete n._childConstructors}else{i._childConstructors.push(o)}e.widget.bridge(t,o);return o};e.widget.extend=function(t){var n=s.call(arguments,1);var o=0;var r=n.length;var a;var l;for(;o<r;o++){for(a in n[o]){l=n[o][a];if(i.call(n[o],a)&&l!==undefined){if(e.isPlainObject(l)){t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],l):e.widget.extend({},l)}else{t[a]=l}}}}return t};e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(o){var r=typeof o==="string";var a=s.call(arguments,1);var l=this;if(r){if(!this.length&&o==="instance"){l=undefined}else{this.each(function(){var i;var s=e.data(this,n);if(o==="instance"){l=s;return false}if(!s){return e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+o+"'")}if(typeof s[o]!=="function"||o.charAt(0)==="_"){return e.error("no such method '"+o+"' for "+t+" widget instance")}i=s[o].apply(s,a);if(i!==s&&i!==undefined){l=i&&i.jquery?l.pushStack(i.get()):i;return false}})}}else{if(a.length){o=e.widget.extend.apply(null,[o].concat(a))}this.each(function(){var t=e.data(this,n);if(t){t.option(o||{});if(t._init){t._init()}}else{e.data(this,n,new i(o,this))}})}return l}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(i,s){s=e(s||this.defaultElement||this)[0];this.element=e(s);this.uuid=t++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=e();this.hoverable=e();this.focusable=e();this.classesElementLookup={};if(s!==this){e.data(s,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){if(e.target===s){this.destroy()}}});this.document=e(s.style?s.ownerDocument:s.document||s);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this.options=e.widget.extend({},this.options,this._getCreateOptions(),i);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy();e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s=t;var n;var o;var r;if(arguments.length===0){return e.widget.extend({},this.options)}if(typeof t==="string"){s={};n=t.split(".");t=n.shift();if(n.length){o=s[t]=e.widget.extend({},this.options[t]);for(r=0;r<n.length-1;r++){o[n[r]]=o[n[r]]||{};o=o[n[r]]}t=n.pop();if(arguments.length===1){return o[t]===undefined?null:o[t]}o[t]=i}else{if(arguments.length===1){return this.options[t]===undefined?null:this.options[t]}s[t]=i}}this._setOptions(s);return this},_setOptions:function(e){var t;for(t in e){this._setOption(t,e[t])}return this},_setOption:function(e,t){if(e==="classes"){this._setOptionClasses(t)}this.options[e]=t;if(e==="disabled"){this._setOptionDisabled(t)}return this},_setOptionClasses:function(t){var i,s,n;for(i in t){n=this.classesElementLookup[i];if(t[i]===this.options.classes[i]||!n||!n.length){continue}s=e(n.get());this._removeClass(n,i);s.addClass(this._classes({element:s,keys:i,classes:t,add:true}))}},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e);if(e){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(t){var i=[];var s=this;t=e.extend({element:this.element,classes:this.options.classes||{}},t);function n(){var i=[];t.element.each(function(t,n){var o=e.map(s.classesElementLookup,function(e){return e}).some(function(e){return e.is(n)});if(!o){i.push(n)}});s._on(e(i),{remove:"_untrackClassesElement"})}function o(o,r){var a,l;for(l=0;l<o.length;l++){a=s.classesElementLookup[o[l]]||e();if(t.add){n();a=e(e.uniqueSort(a.get().concat(t.element.get())))}else{a=e(a.not(t.element).get())}s.classesElementLookup[o[l]]=a;i.push(o[l]);if(r&&t.classes[o[l]]){i.push(t.classes[o[l]])}}}if(t.keys){o(t.keys.match(/\S+/g)||[],true)}if(t.extra){o(t.extra.match(/\S+/g)||[])}return i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(s,n){if(e.inArray(t.target,n)!==-1){i.classesElementLookup[s]=e(n.not(t.target).get())}});this._off(e(t.target))},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,false)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,true)},_toggleClass:function(e,t,i,s){s=typeof s==="boolean"?s:i;var n=typeof e==="string"||e===null,o={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:s};o.element.toggleClass(this._classes(o),s);return this},_on:function(t,i,s){var n;var o=this;if(typeof t!=="boolean"){s=i;i=t;t=false}if(!s){s=i;i=this.element;n=this.widget()}else{i=n=e(i);this.bindings=this.bindings.add(i)}e.each(s,function(s,r){function a(){if(!t&&(o.options.disabled===true||e(this).hasClass("ui-state-disabled"))){return}return(typeof r==="string"?o[r]:r).apply(o,arguments)}if(typeof r!=="string"){a.guid=r.guid=r.guid||a.guid||e.guid++}var l=s.match(/^([\w:-]*)\s*(.*)$/);var u=l[1]+o.eventNamespace;var f=l[2];if(f){n.on(u,f,a)}else{i.on(u,a)}})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(i);this.bindings=e(this.bindings.not(t).get());this.focusable=e(this.focusable.not(t).get());this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return(typeof e==="string"?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,s){var n,o;var r=this.options[t];s=s||{};i=e.Event(i);i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();i.target=this.element[0];o=i.originalEvent;if(o){for(n in o){if(!(n in i)){i[n]=o[n]}}}this.element.trigger(i,s);return!(typeof r==="function"&&r.apply(this.element[0],[i].concat(s))===false||i.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,o){if(typeof n==="string"){n={effect:n}}var r;var a=!n?t:n===true||typeof n==="number"?i:n.effect||i;n=n||{};if(typeof n==="number"){n={duration:n}}else if(n===true){n={}}r=!e.isEmptyObject(n);n.complete=o;if(n.delay){s.delay(n.delay)}if(r&&e.effects&&e.effects.effect[a]){s[t](n)}else if(a!==t&&s[a]){s[a](n.duration,n.easing,o)}else{s.queue(function(i){e(this)[t]();if(o){o.call(s[0])}i()})}}});return e.widget});
//# sourceMappingURL=widget.js.map